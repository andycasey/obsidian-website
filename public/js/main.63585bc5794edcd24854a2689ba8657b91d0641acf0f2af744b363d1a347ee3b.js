(()=>{function r(){let e=document.getElementById("theme-toggle-dark-icon"),t=document.getElementById("theme-toggle-light-icon"),n=document.getElementById("theme-toggle");function s(i){document.documentElement.classList.toggle("dark",i),localStorage.setItem("color-theme",i?"dark":"light"),e.classList.toggle("hidden",i),t.classList.toggle("hidden",!i)}let c=window.matchMedia("(prefers-color-scheme: dark)"),o=localStorage.getItem("color-theme"),a=c.matches;s(o?o==="dark":a),c.addEventListener("change",i=>{s(i.matches)}),n.addEventListener("click",()=>{let i=document.documentElement.classList.contains("dark");s(!i)})}function u(){let e=document.querySelector("#toc");if(!e)return;let t=e.querySelector("#toc-toggle"),n=e.querySelector(".toc-content"),s=e.querySelector(".toc-expand"),c=e.querySelector(".toc-collapse");t&&(t.addEventListener("click",function(){n.classList.toggle("hidden"),s.classList.toggle("hidden"),c.classList.toggle("hidden"),localStorage.setItem("tocState",n.classList.contains("hidden")?"hidden":"visible")}),localStorage.getItem("tocState")==="hidden"&&(n.classList.add("hidden"),s.classList.add("hidden"),c.classList.remove("hidden")))}function m(){let e=document.getElementById("article-aside");if(!e)return;let t=e.querySelectorAll(".tab-button"),n=e.querySelectorAll(".tab-content"),s=e.querySelector("select#Tab");function c(a){n.forEach(d=>{d.classList.add("hidden")});let i=e.querySelector(`#${a}`);i&&i.classList.remove("hidden"),t.forEach(d=>{let l=d.dataset.tab===a;d.setAttribute("aria-selected",l),d.classList.remove("fluidity-tab-active","fluidity-tab-inactive"),l?d.classList.add("fluidity-tab-active"):d.classList.add("fluidity-tab-inactive")}),s&&(s.value=a.charAt(0).toUpperCase()+a.slice(1))}t.forEach(a=>{a.addEventListener("click",i=>{i.preventDefault(),c(a.dataset.tab)})}),s&&s.addEventListener("change",a=>{c(a.target.value.toLowerCase())});let o=t[0]?.dataset.tab;o&&c(o)}function g(){let e=document.getElementById("toggle-sidebar"),t=document.getElementById("sidebar"),n=document.getElementById("main-content");!e||!t||!n||e.addEventListener("click",()=>{t.remove(),n.parentNode.classList.remove("lg:grid-cols-3")})}function f(){let e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");if(!e||!t)return;let n=!1;function s(){t.classList.remove("fluidity-mobile-menu-closed"),t.classList.add("fluidity-mobile-menu-open"),t.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true"),n=!0}function c(){t.classList.remove("fluidity-mobile-menu-open"),t.classList.add("fluidity-mobile-menu-closed"),t.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),n=!1}e.addEventListener("click",o=>{o.stopPropagation(),n?c():s()}),document.addEventListener("click",o=>{n&&!t.contains(o.target)&&!e.contains(o.target)&&c()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&n&&c()})}function h(){r(),u(),g(),m(),f()}document.addEventListener("DOMContentLoaded",h);})();
